<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ICT2101-SafetyVR_Lvl1</title>
		<meta name="description" content="360&deg; Image Gallery - A-Frame">
		<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
		<script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
		<script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
		<script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
		<script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
		<script src="set-image.js"></script>
	</head>
  <body>
	<a-scene>
		<a-assets>        
			<audio id="click-sound" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
		
			
			<!-- 3D Models --> 
			<a-asset-item id="car" src="images/car/car_02.gltf"></a-asset-item>
			<a-asset-item id="tree" src="images/tree/tree01.gltf"></a-asset-item>
			<a-asset-item id="lamppost" src="images/Lamppost/Lamppost.gltf"></a-asset-item>
			<!-- <a-asset-item id="runningguy" src="images/runningguy/runningguy.gltf"></a-asset-item> -->
			<a-asset-item id="hi_man" src="images/hi_man/model.gltf"></a-asset-item>
			
			<a-asset-item id="bicycle" src="images/Bicycle/scene.gltf"></a-asset-item>
			<a-asset-item id="scoot" src="images/razor_scooter/scene.gltf"></a-asset-item>
			<a-asset-item id="scooter" src="images/scooter/scene.gltf"></a-asset-item>
			<a-asset-item id="bike" src="images/bike/scene.gltf"></a-asset-item>
			
		</a-assets>

		<!-- background image -->
		<a-sky id="image-360" color="#cef0fd"></a-sky>
		<a-entity environment="groundColor: #3e7b00; groundColor2: #5ca307; groundTexture:walkernoise;"></a-entity>
		<a-plane rotation="-90 90 0" width="50" height="30" repeat="10 10" material="depthTest:false;color:#4b4b4b" geometry="width:200.01;height:7" position="0 1.037 -1.0203135998170165"></a-plane>
		
		<!-- right path -->
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="7 0 10" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04"  position="10 0 0" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#lamppost" scale="3 2.5 3" position="6 10 -15" rotation="-90 0 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="20 0 -30" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="10 0 -45" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="13 0 -60" rotation="0 40 0"></a-entity>
		
		
		<!-- left path -->
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04"  position="-7 0 -4" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04"  position="-10 0 5" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04"  position="-13 0 -2" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04"  position="-10 0 -15" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#lamppost" scale="3 2.5 3" position="-6 10 -30" rotation="-90 0 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="-20 0 -45" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="-13 0 -60" rotation="0 40 0"></a-entity>
		<a-entity gltf-model="#tree" scale="0.04 0.04 0.04" position="-13 0 -80" rotation="0 40 0"></a-entity>
		
		
		<!-- Walking man
		<a-entity gltf-model="#hi_man" position="0.7 0 -1" rotation="0 -108 0" scale="1.7 1.4 1.1">
		<a-animation attribute ="position"
				dur="50000" from="0 0 -100" to="0 0 19"
				repeat="indefinite"></a-animation>
		</a-entity>-->
		
		<!-- main path
		<a-entity gltf-model="#runningguy" scale="9.360 8.670 5.210" position="0 1 0" rotation="0 90 0">
		<a-animation attribute ="position"
				dur="5000" from="0 0 -100" to="0 0 15"
				repeat="indefinite"></a-animation>
		</a-entity> -->
		
		
		
		
		<!-- Camera + cursor -->
		<a-camera position="0 3 100" wasd-controls="acceleration: 200">
			<a-cursor color="#000000" fuse-timeout="10">
			</a-cursor>
			<a-entity id="vehicle" gltf-model="" scale="0.01 0.007 0.01" rotation="2 -90 -4" position="-0.64 -3.5 0.6"></a-entity>
		</a-camera>
		
	</a-scene>
	
	<script>
	var vehicle = document.querySelector('#vehicle');
	vehicle.setAttribute('gltf-model', localStorage.getItem("vehicleSelected"));
	</script>
  </body>
</html>